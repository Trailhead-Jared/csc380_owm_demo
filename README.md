# csc380_owm_demo
OpenWeatherMap demo showing how to use OwmClient


To utilize this to automatically download your dependencies, you need to use Maven. I have noticed that the owm-lib dependency doesn't work on a clean setup. The one on OSSRH is an old version that doesn't support 2.5. To get the OWM library to work, this is what I did.

1. git clone https://github.com/Ayutac/owmClient.git (The releases on this repo are outdated as well I think).
2. I open this project in Netbeans, so directions will vary for IntelliJ.
Inline image 1
3. I build it. Netbeans knows it is a maven project because of the pom.xml file. Building that downloads the dependencies for the default repo.
Inline image 4
Build output:
cd /home/demo/projects/owmClient/lib; JAVA_HOME=/nix/store/b7fpi26nwv8y4x41pxbvipxj6grrayw8-openjdk-8u121b13/lib/openjdk /nix/store/ivvgdyz103h90jr2jz9d5r487ls3fwkn-netbeans-8.1/netbeans/java/maven/bin/mvn install
Scanning for projects...
                                                                       
------------------------------------------------------------------------
Building OpenWeatherMap library 2.1.3-SNAPSHOT
------------------------------------------------------------------------
Downloading: http://repo.maven.apache.org/maven2/org/json/json/20070829/json-20070829.pom
        
Downloaded: http://repo.maven.apache.org/maven2/org/json/json/20070829/json-20070829.pom (2 KB at 3.2 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.2.3/httpclient-4.2.3.pom
        
Downloaded: http://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.2.3/httpclient-4.2.3.pom (6 KB at 34.4 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/junit/junit/4.11/junit-4.11.pom
        
Downloaded: http://repo.maven.apache.org/maven2/junit/junit/4.11/junit-4.11.pom (3 KB at 14.3 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.pom
        
Downloaded: http://repo.maven.apache.org/maven2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.pom (2 KB at 6.7 KB/sec)
Downloading: http://repo.maven.apache.org/maven2/org/json/json/20070829/json-20070829.jar
Downloading: http://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.2.3/httpclient-4.2.3.jar
Downloading: http://repo.maven.apache.org/maven2/junit/junit/4.11/junit-4.11.jar
Downloading: http://repo.maven.apache.org/maven2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar
                                               
Downloaded: http://repo.maven.apache.org/maven2/org/json/json/20070829/json-20070829.jar (41 KB at 176.1 KB/sec)
                                       
Downloaded: http://repo.maven.apache.org/maven2/junit/junit/4.11/junit-4.11.jar (240 KB at 582.2 KB/sec)
                                       
Downloaded: http://repo.maven.apache.org/maven2/org/apache/httpcomponents/httpclient/4.2.3/httpclient-4.2.3.jar (423 KB at 1004.6 KB/sec)
              
Downloaded: http://repo.maven.apache.org/maven2/org/mockito/mockito-all/1.9.5/mockito-all-1.9.5.jar (1545 KB at 2123.8 KB/sec)

--- maven-resources-plugin:2.5:resources (default-resources) @ owm-lib ---
[debug] execute contextualize
Using 'UTF-8' encoding to copy filtered resources.
skip non existing resourceDirectory /home/demo/projects/owmClient/lib/src/main/resources

--- maven-compiler-plugin:3.1:compile (default-compile) @ owm-lib ---
Nothing to compile - all classes are up to date

--- maven-resources-plugin:2.5:testResources (default-testResources) @ owm-lib ---
[debug] execute contextualize
Using 'UTF-8' encoding to copy filtered resources.
skip non existing resourceDirectory /home/demo/projects/owmClient/lib/src/test/resources

--- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ owm-lib ---
Nothing to compile - all classes are up to date

--- maven-surefire-plugin:2.10:test (default-test) @ owm-lib ---
Surefire report directory: /home/demo/projects/owmClient/lib/target/surefire-reports

-------------------------------------------------------
 T E S T S
-------------------------------------------------------
Running org.bitpipeline.lib.owm.OwmClientTest
Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.027 sec
Running org.bitpipeline.lib.owm.CalcTimePartExtratTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.005 sec
Running org.bitpipeline.lib.owm.WeatherDataTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 sec
Running org.bitpipeline.lib.owm.ForecastWeatherDataTest
Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.101 sec

Results :

Tests run: 22, Failures: 0, Errors: 0, Skipped: 0


--- maven-jar-plugin:2.3.2:jar (default-jar) @ owm-lib ---
Building jar: /home/demo/projects/owmClient/lib/target/owm-lib-2.1.3-SNAPSHOT.jar

--- maven-javadoc-plugin:2.9.1:jar (default) @ owm-lib ---

Loading source files for package org.bitpipeline.lib.owm...
Constructing Javadoc information...
Standard Doclet version 1.8.0_121
Building tree for all the packages and classes...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/AbstractWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/AbstractWeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/AbstractWeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/DEMO.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/Forecast16WeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/ForecastWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/LocalizedWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/LocalizedWeatherData.GeoCoord.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/OwmClient.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/OwmClient.HistoryType.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/OwmClient.Units.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/SampledWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/SampledWeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/SampledWeatherData.Precipitation.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/SampledWeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/StatusWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/StatusWeatherData.Station.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/Temperature.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Clouds.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Clouds.CloudDescription.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Clouds.CloudDescription.Cumulus.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Clouds.CloudDescription.SkyCondition.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Precipitation.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.WeatherCondition.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.WeatherCondition.ConditionCode.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherForecast16Response.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherForecastResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherForecastResponse.City.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherForecastResponse.Sys.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherHistoryCityResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherHistoryStationResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/WeatherStatusResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/package-frame.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/package-summary.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/package-tree.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/constant-values.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/OwmClient.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/OwmClient.HistoryType.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/OwmClient.Units.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/AbstractWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/AbstractWeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/AbstractWeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/LocalizedWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/LocalizedWeatherData.GeoCoord.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/Temperature.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherStatusResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherHistoryStationResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/Forecast16WeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/DEMO.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/StatusWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/StatusWeatherData.Station.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Clouds.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Clouds.CloudDescription.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Clouds.CloudDescription.SkyCondition.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Clouds.CloudDescription.Cumulus.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.Precipitation.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.WeatherCondition.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherData.WeatherCondition.ConditionCode.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherHistoryCityResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherForecast16Response.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/ForecastWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherForecastResponse.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherForecastResponse.City.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/WeatherForecastResponse.Sys.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/SampledWeatherData.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/SampledWeatherData.Main.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/SampledWeatherData.Wind.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/class-use/SampledWeatherData.Precipitation.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/org/bitpipeline/lib/owm/package-use.html...
Building index for all the packages and classes...
Generating /home/demo/projects/owmClient/lib/target/apidocs/overview-tree.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/index-all.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/deprecated-list.html...
Building index for all classes...
Generating /home/demo/projects/owmClient/lib/target/apidocs/allclasses-frame.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/allclasses-noframe.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/index.html...
Generating /home/demo/projects/owmClient/lib/target/apidocs/help-doc.html...
1 warning
Javadoc Warnings
/home/demo/projects/owmClient/lib/src/main/java/org/bitpipeline/lib/owm/OwmClient.java:646: warning: no @throws for org.json.JSONException
public String[] citiesAroundRaw(float lat, float lon, int cnt) throws JSONException, IOException {
^
Building jar: /home/demo/projects/owmClient/lib/target/owm-lib-2.1.3-SNAPSHOT-javadoc.jar

--- maven-source-plugin:2.4:jar-no-fork (attach-sources) @ owm-lib ---

--- maven-install-plugin:2.3.1:install (default-install) @ owm-lib ---
Installing /home/demo/projects/owmClient/lib/target/owm-lib-2.1.3-SNAPSHOT.jar to /home/demo/.m2/repository/org/bitpipeline/lib/owm-lib/2.1.3-SNAPSHOT/owm-lib-2.1.3-SNAPSHOT.jar
Installing /home/demo/projects/owmClient/lib/pom.xml to /home/demo/.m2/repository/org/bitpipeline/lib/owm-lib/2.1.3-SNAPSHOT/owm-lib-2.1.3-SNAPSHOT.pom
Installing /home/demo/projects/owmClient/lib/target/owm-lib-2.1.3-SNAPSHOT-javadoc.jar to /home/demo/.m2/repository/org/bitpipeline/lib/owm-lib/2.1.3-SNAPSHOT/owm-lib-2.1.3-SNAPSHOT-javadoc.jar
Installing /home/demo/projects/owmClient/lib/target/owm-lib-2.1.3-SNAPSHOT-sources.jar to /home/demo/.m2/repository/org/bitpipeline/lib/owm-lib/2.1.3-SNAPSHOT/owm-lib-2.1.3-SNAPSHOT-sources.jar
------------------------------------------------------------------------
BUILD SUCCESS
------------------------------------------------------------------------
Total time: 10.553s
Finished at: Sat Nov 18 20:38:15 UTC 2017
Final Memory: 17M/221M
------------------------------------------------------------------------


4. git clone https://github.com/Trailhead-Jared/csc380_owm_demo.git, Then open that project in Netbeans (in my case). When I try to build that, I get an error.
cd /home/demo/projects/csc380_owm_demo; JAVA_HOME=/nix/store/b7fpi26nwv8y4x41pxbvipxj6grrayw8-openjdk-8u121b13/lib/openjdk /nix/store/ivvgdyz103h90jr2jz9d5r487ls3fwkn-netbeans-8.1/netbeans/java/maven/bin/mvn install
Scanning for projects...
                                                                       
------------------------------------------------------------------------
Building csc380_owm_maven_driver 1.0-SNAPSHOT
------------------------------------------------------------------------
The POM for org.bitpipeline.lib:owm-lib:jar:2.1.3-SNAPSHOT is missing, no dependency information available
------------------------------------------------------------------------
BUILD FAILURE
------------------------------------------------------------------------
Total time: 0.498s
Finished at: Sat Nov 18 20:41:48 UTC 2017
Final Memory: 6M/106M
------------------------------------------------------------------------
Failed to execute goal on project csc380_owm_maven_driver: Could not resolve dependencies for project com.trailheadsystems:csc380_owm_maven_driver:jar:1.0-SNAPSHOT: Could not find artifact org.bitpipeline.lib:owm-lib:jar:2.1.3-SNAPSHOT -> [Help 1]

To see the full stack trace of the errors, re-run Maven with the -e switch.
Re-run Maven using the -X switch to enable full debug logging.

For more information about the errors and possible solutions, please read the following articles:
[Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException

5. It doesn't know where the owm-lib is. Because its not part of the standard Maven repository. I need to Manually install artifact.


Inline image 6

Browse to the build output of the owmClient and get the .jar file.

Inline image 7

6. Now build and run.
cd /home/demo/projects/csc380_owm_demo; JAVA_HOME=/nix/store/b7fpi26nwv8y4x41pxbvipxj6grrayw8-openjdk-8u121b13/lib/openjdk /nix/store/ivvgdyz103h90jr2jz9d5r487ls3fwkn-netbeans-8.1/netbeans/java/maven/bin/mvn "-Dexec.args=-classpath %classpath com.trailheadsystems.csc380_owm_maven_driver.driver" -Dexec.executable=/nix/store/b7fpi26nwv8y4x41pxbvipxj6grrayw8-openjdk-8u121b13/lib/openjdk/bin/java process-classes org.codehaus.mojo:exec-maven-plugin:1.2.1:exec
Scanning for projects...
                                                                       
------------------------------------------------------------------------
Building csc380_owm_maven_driver 1.0-SNAPSHOT
------------------------------------------------------------------------
The POM for org.bitpipeline.lib:owm-lib:jar:2.1.3-SNAPSHOT is missing, no dependency information available

--- maven-resources-plugin:2.5:resources (default-resources) @ csc380_owm_maven_driver ---
[debug] execute contextualize
Using 'UTF-8' encoding to copy filtered resources.
skip non existing resourceDirectory /home/demo/projects/csc380_owm_demo/src/main/resources

--- maven-compiler-plugin:2.3.2:compile (default-compile) @ csc380_owm_maven_driver ---
Compiling 1 source file to /home/demo/projects/csc380_owm_demo/target/classes

--- exec-maven-plugin:1.2.1:exec (default-cli) @ csc380_owm_maven_driver ---
org.bitpipeline.lib.owm.WeatherStatusResponse@73f792cf
Temperature [temp=44.6, tempMin=44.6, tempMax=44.6, tempDay=NaN, tempDayMin=NaN, tempDayMax=NaN, tempNight=NaN, tempEve=NaN, tempMorn=NaN]
27.51
------------------------------------------------------------------------
BUILD SUCCESS
------------------------------------------------------------------------
